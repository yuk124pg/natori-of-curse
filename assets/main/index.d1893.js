window.__require=function t(e,o,n){function r(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return r(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({manager:[function(t,e,o){"use strict";cc._RF.push(e,"19286NzTtFEyLQn3TOX0ZES","manager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./natori"),s=t("./startButton"),a=cc._decorator,p=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.natoriList=[],e.combo=0,e.natoriCount=6,e.addedNatori=!1,e}return r(e,t),e.prototype.start=function(){this.setupTitle()},e.prototype.setupTitle=function(){var t=this;this.reset();var e=cc.instantiate(this.titleSprite);e.setParent(this.scroll.content),e.setPosition(0,-300),(e=cc.instantiate(this.buttonPrefab)).setParent(this.scroll.content),e.setPosition(0,-500),e.getComponent(s.default).setCallback(function(){t.startGame()}),cc.audioEngine.playEffect(this.clickAudio,!1)},e.prototype.startGame=function(){this.combo=0,this.updateCombo(),this.natoriCount=6,this.setupGame()},e.prototype.nextGame=function(){this.combo+=1,this.updateCombo(),this.natoriCount+=2,this.setupGame()},e.prototype.updateCombo=function(){this.comboLabel.string=this.combo+" Combo"},e.prototype.setupGame=function(){this.reset(),this.addedNatori=!1;for(var t=0;t<this.natoriCount;++t)this.add(t,0==this.addedNatori&&this.natoriCount-1==t);cc.audioEngine.playEffect(this.clickAudio,!1)},e.prototype.reset=function(){this.scroll.content.removeAllChildren(!0),this.scroll.content.height=0},e.prototype.add=function(t,e){var o=this,n=cc.instantiate(this.prefabOrigin);n.setParent(this.scroll.content);var r=n.getComponent(c.default);r.setSuccessCallback(function(){o.nextGame()}),r.setMissCallback(function(){o.setupTitle()});for(var i=Math.floor(Math.random()*this.natoriList.length);this.addedNatori&&0==i;)i=Math.floor(Math.random()*this.natoriList.length);e&&(i=0),0==this.addedNatori&&0==i&&(this.addedNatori=!0),n.getComponentInChildren(cc.Sprite).spriteFrame=this.natoriList[i];var s=t%2==0;n.setPosition(-110*(s?1:-1),-200*Math.floor(t/2)-120),this.scroll.content.height=200*(Math.floor(t/2)+1)+50},i([u(cc.ScrollView)],e.prototype,"scroll",void 0),i([u(cc.Prefab)],e.prototype,"prefabOrigin",void 0),i([u(cc.Prefab)],e.prototype,"titleSprite",void 0),i([u(cc.Prefab)],e.prototype,"buttonPrefab",void 0),i([u(cc.SpriteFrame)],e.prototype,"natoriList",void 0),i([u(cc.AudioClip)],e.prototype,"clickAudio",void 0),i([u(cc.Label)],e.prototype,"comboLabel",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./natori":"natori","./startButton":"startButton"}],natori:[function(t,e,o){"use strict";cc._RF.push(e,"e5329DFpjpE6YTMTgwe99f/","natori");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSelected=!1,e}return r(e,t),e.prototype.start=function(){this.sprite=this.node.getComponentInChildren(cc.Sprite),this.sprite.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.update=function(){},e.prototype.test=function(){console.log("testlog")},e.prototype.setSuccessCallback=function(t){this.successCallback=t},e.prototype.setMissCallback=function(t){this.missCallback=t},e.prototype.onTouchStart=function(){this.isSelected=!0,console.log(this.sprite.spriteFrame.name)},e.prototype.onTouchMove=function(){this.isSelected=!1},e.prototype.onTouchEnd=function(){this.isSelected&&"space_natori"==this.sprite.spriteFrame.name?(this.successCallback(),this.node.destroy()):this.isSelected&&"space_natori"!=this.sprite.spriteFrame.name&&this.missCallback()},i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],startButton:[function(t,e,o){"use strict";cc._RF.push(e,"71e301FD2RAIZFHTXXIrkW/","startButton");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onButtonStart,this)},e.prototype.setCallback=function(t){this.callback=t},e.prototype.onButtonStart=function(){this.callback()},i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}]},{},["manager","natori","startButton"]);